### ##JumpServer心得

操作系统：centos7

需求：安装docker、数据库MySQL、安装Redis

1.安装JumpServer：

下载安装包，通过finalshell上传至虚拟机文件夹，然后解压至/usr/local

	tar -xvf jumpserver-installer-v2.16.3.tar.gz -C /usr/local
	cd /usr/local/jumpserver-installer-v2.16.3

2.配置文件：

MySQL 配置

	USE_EXTERNAL_MYSQL=0
	DB_HOST=mysql
	DB_PORT=3306
	DB_USER=root
	DB_PASSWORD=
	DB_NAME=jumpserver
	
	## Compose 项目设置, 如果 192.168.250.0/24 网段与你现有网段冲突, 请修改然后重启 JumpServer
	COMPOSE_PROJECT_NAME=jms
	COMPOSE_HTTP_TIMEOUT=3600
	DOCKER_CLIENT_TIMEOUT=3600
	DOCKER_SUBNET=192.168.250.0/24

Redis 配置

	USE_EXTERNAL_REDIS=0
	REDIS_HOST=redis
	REDIS_PORT=6379
	REDIS_PASSWORD=

IPV6 设置

	USE_IPV6=0
	DOCKER_SUBNET_IPV6=2001:db8:10::/64

Task 配置

	USE_TASK=1

Nginx 配置

	HTTP_PORT=80
	SSH_PORT=2222
	RDP_PORT=3389
	
	USE_LB=0
	HTTPS_PORT=443

3.启动与停止

	./jmsctl.sh start

	./jmsctl.sh down

### ##HTCondor心得

1.下载HTCondor repo仓库

	yum install -y https://research.cs.wisc.edu/htcondor/repo/8.8/el7/release/htcondor-release-8.8-1.el7.noarch.rpm

2.安装minicondor

	yum install -y minicondor # or condor

3.启动condor

	systemctl start  condor
	systemctl enable condor
	systemctl status condor

![image-20211216184629554](/Users/macbook/Library/Application Support/typora-user-images/image-20211216184629554.png)

![image-20211216184643146](/Users/macbook/Library/Application Support/typora-user-images/image-20211216184643146.png)



### ##报错总结：

遇到的错误ERROR: for jms_koko Cannot start service koko: driver failed programming

原因：docker服务启动时定义的自定义链DOCKER由于 centos7 firewall 被清掉

解决方法：重启docker服务之后再运行junpserver

	systemctl restart docker

